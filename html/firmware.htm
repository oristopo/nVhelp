<html>
<head>
<title>NanoVNA versions</title>
<style type="text/css">
  p,h2,dl {
    margin-left: 40;
  }
</style>
</head>
<body>

<details>
<summary>click for reasons you might want to upgrade</summary>
 (<em>thanks to Herb</em>)
<ol compact>
<li> TDR capability in firmware.
<li> Operation up to 1500 MHz (at reduced performance).
<li> Switch into DFU mode without hardware jumper.
<li> Change from 2 trace to 4 trace firmware (or vice versa).
<li> Change to 800 MHz max operation for better device stability
<li> Enable electrical delay setting
<li> Bored and looking for trouble.
</ol>
</details>

<h2>nanoVNA firmware versions</a></h2>
<dl><dt><b>
  Firmware replacement instructions:
  <ul>
  <li><a href="https://dw1zws.com/how-to-change-nanovna-firmware/">How to change NanoVNA Firmware</a>
  <li>original <a href="https://groups.io/g/nanovna-users/attachment/381/0/NanoVNA%20DFU%20Firmware%20Upgrade%20Guide.pdf">Upgrade NanoVNA use DFU</a>
  <li><a href="https://groups.io/g/nanovna-users/files/NanoVNA%20User%20Guide-English-reformat-Oct-2-19.pdf">User Manual</a></b> Section 8.<br>
  </ul>
<dd>Clicking <b>Table of Contents</b> links there is not helpful...<br>
 instead do browser search there for "How to write firmware"
<br><br><dt><a href="http://www.emcu.eu/how-to-program-the-stm32/#DFU"><b>DfuSe utility introduction</b></a>
<dd>not specific to nanoVNA
<br><br><dt><a href="https://www.st.com/en/development-tools/stsw-stm32080.html"><b>STSW-STM32080 package</b></a>
<dd>drivers and DFU utilities for managing and installing firmware<br>
The same package is available <a href="https://drive.google.com/drive/folders/1IRz6E1wlkRyV0u7sbqj0lhWST-GV1szY">here</a> without registering.<br>

<details>
<summary>click here for STSW-STM32080 package description</summary>
<br>
STMicroelectronics wants package users to register,<br>
then send confirmation to your email address for access.<br>
This requires browser cookies for ST's website at least temporarily enabled...<br>
Windows installation includes <a href="file:///C:/Program%20Files%20(x86)/STMicroelectronics/Software/DfuSe%20v3.0.6/Bin/Doc/UM0412.pdf">a User Guide</a><br>
The installer is probably named <code>DfuSe_Demo_V3.0.6_Setup.exe</code> because ST expects<br>
their target audience to create create custom firmware installers motivated by this.
</details>

<details>
<summary>click here for converting e.g. edy255 firmware to DFU format</summary>
<br>
<em>thanks to  starbuck5250</em><br><br>
<code>DfuSe_Demo_V3.0.6_Setup.exe</code> also installs <code>DfuFileMgr.exe</code> e.g. in<br>
 &nbsp <code>C:\Program Files (x86)\STMicroelectronics\Software\DfuSe v3.0.6\Bin</code>
<dl>
<dt>First, get e.g. <a href="https://github.com/ttrftech/NanoVNA/releases">an edy555 file</a>
  <dd>click e.g. <a href="https://github.com/ttrftech/NanoVNA/releases/download/0.2.2/nanovna-firmware-0.2.2.zip"><code>nanovna-firmware-0.2.2.zip</code></a> to download.
  <br>e.g. in <code>C:\addons</code>
<dt>Next, unzip it e.g. in <code>C:\addons\nanovna-firmware-0.2.2</code>
<dt>Next, to convert e.g. that <code>C:\addons\nanovna-firmware-0.2.2\build\ch.bin</code> to DFU format:
  <dd>Launch <code>DfuFileMgr.exe</code><br>
  Choose <code>GENERATE DFU from BIN</code>. Click <code>OK</code>.<br>
  <img src="DFUmgr.gif"><br clear=all>
  Click <img align="middle" src="S19orHex.gif"> half way down on the right side.<br>
  Navigate to e.g. <code>C:\addons\nanovna-firmware-0.2.2\build\</code><br>
  Click on e.g. <code>ch.hex</code>, and then <code>Open</code>.<br>
  Click <code>Generate...</code><br>
  &nbsp  You will be asked to save the file e.g. as <code>edy255_0.2.2.dfu</code>,<br>
  &nbsp and saved it in the same directory.<br>
  &nbsp For message <code>Success for Image for alternate setting...</code>, click <code>OK</code>.<br>
<dt>Use e.g. <code>C:\addons\nanovna-firmware-0.2.2\build\edy255_0.2.2.dfu</code>
  to flash NanoVNA by <code>DfuSe Demo 3.0.6.exe</code>.
</dl>
</details>

<br><br>
<dt>
<details>
<summary>click here for <code>hugen</code> firmware naming conventions</summary>
<br>
A typical name is <code>NanoVNA-H_900_ch_20191003.dfu</code>
<br><br>
Many special firmware are available with different naming,<br>
and usually <em>without</em> <code>aa</code> versions with larger text<br>
or <code>800</code> versions for devices with weaker high frequency performance<br>
<br>
<dt><code>NanoVNA-H</code>
<dd>owner or special purpose.<br>  edy255 "owns" NanoVNA; Gen Hu "owns" NanoVNA-H
<br>Gen Hu typically provides 4 versions for each release date.<br>
<dt><code>900</code>
<dd>most devices can overclock for 900MHz third harmonic. <br> To avoid artifacts with weaker devices, use <code>800</code>
<dt><code>aa</code>
<dd>"Antenna Analyzer" limited to 2 traces but usefully larger text. <br>Use <code>ch</code> for 4 traces, but smaller text
<dt><code>20191003</code>
<dd>date code; newer is not always better.  <br>Some group messages <a href="https://groups.io/g/nanovna-users/search?d=0&ev=false&q=firmware+bug">report bugs</a>..  
<dt><code>.dfu</code>
<dd> format for DFU utilities, e.g. verify that firmware matches USB device ID<br>
<code>.hex</code> is simpler, lacks ID matching.  DFU utility can convert either way.
</details>
</dl>

<h4>
<dl>
<br><dt><a href="https://groups.io/g/nanovna-users/files/Firmware/All%20%28known%29%20publicly%20available%20NanoVNA%20DFU%20files%20from%20May%205,%202019%20through%20to%20Sept%2029,%202019/DMR/DMR-CLEAR_MEMORY_DFU.dfu">DMR-CLEAR_MEMORY_DFU.dfu</a> clears device flash memory.
<dd>Your device will <em>not</em> again work until <em>after</em> re-load <em>some other</em> firmware.<br>
  It is used to "clean the slate" prior to installing <em>other</em> firmware, but is <em>rarely</em> needed.<br>
Some few firmware installations fail until after first loading "DMR-CLEAR_MEMORY_DFU.dfu",<br>
which FWIW is identical to <code>DMR Aug 31</code> "Stuck on firmware?" append: <a href="https://groups.io/g/nanovna-users/message/1583">FILL FF DFU.dfu</a>

<br><br><dt>Larry Rothman's <a href="https://groups.io/g/nanovna-users/files/Firmware/All%20%28known%29%20publicly%20available%20NanoVNA%20DFU%20files%20from%20May%205,%202019%20through%20to%20Sept%2029,%202019">Firmware Archive</a>
<dd>much of that content is described below

<br><br><dt>latest build code: 10KHz-1.5GHz_05.10.2019.rar
<dd>DMR <a href="https://groups.io/g/nanovna-users/message/4073">message append</a>

<br><br><dt>Gen Hu Google Drive 
<dd><a href="https://drive.google.com/drive/folders/1IRz6E1wlkRyV0u7sbqj0lhWST-GV1szY">Google Drive folder</a>
<ul compact>
  <li><a href="https://drive.google.com/drive/folders/1B56yW4ZbJVwVTC_575KJnoCkvfjZQFtn">NanoVNA-H-20191003</a> Oct 3, 2109 by Gen Hu, nanoVNA-H owner
  <li>Aug 2 Release Notes 
   <a href="https://groups.io/g/nanovna-users/files/hugen%20-%20Release%20notes%20to%20Aug%202,%202019%20from%20Google%20Drive%20Firmware%20folder.pdf">PDF</a>
</ul>

<dt>Gen Hu (product?)
<dd><a href="https://drive.google.com/drive/folders/1IZEtx2YdqchaTO8Aa9QbhQ8g_Pr5iNhr">Google Drive folder</a>

<br><br><dt>"hugen_900_aa_aug-2-19.dfu" <a href="https://groups.io/g/nanovna-users/message/3587">clears memory</a> 
<dd><a href="https://groups.io/g/nanovna-users/files/Firmware/All%20%28known%29%20publicly%20available%20NanoVNA%20DFU%20files%20from%20May%205,%202019%20through%20to%20Sept%2029,%202019/hugen/hugen_900_aa_aug-2-19.dfu">DFU</a>

<br><br><dt>Erik Kaashoek's firmware folder
<dd><a href="https://groups.io/g/nanovna-users/files/Firmware/NanoVNA%20firmware%20build%20by%20Erik">firmware</a> primarily intended for use with <a href="https://groups.io/g/nanovna-users/files/NanoVNA%20PC%20Software/TAPR%20VNA">TAPR VNA v4 PC software</a>
<ul compact>
<li>Set SI5351 max fundamental frequency <a href="https://groups.io/g/nanovna-users/message/4175">message</a> and 
<a href="https://groups.io/g/nanovna-users/files/Firmware/NanoVNA%20firmware%20build%20by%20Erik/Release%200.2.22_1%20with%20modified%20scan%20command%20and%20harmonic%20threshold%20setting.zip">firmware</a>
</ul>

<br><br><dt>edy255 + cho45 nightly builds 
<dd><a href="https://cho45.stfuawsc.com/NanoVNA/dfu.html">web page</a> and <a href="https://circleci.com/gh/ttrftech/NanoVNA">change log</a> which notes bug fixes and functional changes

<br><br><dt>pluto backup Sep 29 
<dd><a href="https://groups.io/g/nanovna-users/message/3592">email</a>

<br><br><dt>neb40gsm modified for TDR 
<dd><a href="https://groups.io/g/nanovna-users/message/3272">email</a> Ask and <em>neb</em> will send

<br><br><dt>DMR tweak colors to white 
<dd><a href="https://groups.io/g/nanovna-users/attachment/3337/0/white.rar">email RAR attachment</a>

<br><br><dt>DMR Sep 27 Calibration fix in Last edy555 firmware DFU. 27-09-2019 
<dd><a href="https://groups.io/g/nanovna-users/attachment/3271/0/27.09.2019_edy555.rar">email RAR attachment</a>

<br><br><dt>hwalker Sep 25 "XENOMORPH" 256 point FFT Firmware 
<dd><a href="https://groups.io/g/nanovna-users/attachment/3028/1/XENOMORPH%20firmware%20with%20FFT%20256,%20instead%20of%20128_1500.rar">email RAR attachment</a>

<br><br><dt>Rudi DL5FA edy255 nanoVNA_0.1.0_ch added USB Device ID DF11 
<dd><a href="https://groups.io/g/nanovna-users/attachment/2508/1/nanoVNA_0.1.0_ch.dfu.zip">email RAR attachment</a>

<br><br><dt>hugen Sep 19 Firmware summary edy555 that includes TDR 
<dd><a href="https://groups.io/g/nanovna-users/message/2671">email</a>

<br><br><dt>reuterr Sep 16 Recent new release of edy555 firmware 
<dd><a href="https://groups.io/g/nanovna-users/message/2508">email</a>

<br><br><dt>qrp Sep 15 2019 NanoVNA bricked ST-Link hex format 
<dd><a href="https://groups.io/g/nanovna-users/message/2447">email</a>

<br><br><dt>ohansmit Sep 14 2019 TD 
<dd><a href="https://groups.io/g/nanovna-users/message/2409">email</a>

<br><br><dt>DMR Sep 13 2019 RFpro 10KHz-1500MHz 
<dd><a href="https://groups.io/g/nanovna-users/message/2391">email</a>

<br><br><dt>erik Sep 5 Firmware with arbitrary scan length 
<dd><a href="https://groups.io/g/nanovna-users/message/1886">email</a>

</dl></h4>
</html>

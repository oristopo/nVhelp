<html>
<head>
<title>NanoVNA versions Oct 11 2019</title>
<style type="text/css">
  body {
    margin-left: 40;
  }
</style>
</head>
<body>

<h2>nanoVNA firmware versions</a></h2>

<details>
<summary>click here for reasons to upgrade</summary>
 (<em>thanks to Herb</em>)
<ol compact>
<li> TDR capability in firmware.
<li> Operation up to 1500 MHz (at reduced performance).
<li> Switch into DFU mode without hardware jumper.
<li> Change from 2 trace to 4 trace firmware (or vice versa).
<li> better synergy with PC software, e.g. TAPR VNAR4 fast scan
<li> Enable electrical delay setting
<li> Bored and looking for trouble.
</ol>
</details>

<dl>
<dt><font size=+1><b>Firmware replacement instructions:</b></font>
  <dd>
  <a href="https://groups.io/g/nanovna-users/files/Firmware/Windows%20guide%20on%20how%20to%20write%20firmware.pdf">Replace NanoVNA Firmware from Windows</a>
  <br><a href="https://cho45.github.io/NanoVNA-manual/">Replace NanoVNA Firmware from macOS or Ubuntu</a> <i>see Section 8.</i>
  <br><a href="https://groups.io/g/nanovna-users/message/3487">Android DfuSe programming</a>
  <br>DfuSe fails? Use <a href="https://www.ebay.com/itm/293210793177">ST-Link</a> with hex format to <a href="https://groups.io/g/nanovna-users/topic/34149616">recover bricked devices</a>

<br><br><dt><font size=+1><b><a href="https://www.st.com/en/development-tools/stsw-stm32080.html">STSW-STM32080 package</a></b></font>
<dd>drivers and DFU utilities for managing and installing firmware<br>
 &nbsp - available <a href="https://drive.google.com/drive/folders/1IRz6E1wlkRyV0u7sbqj0lhWST-GV1szY"><b><i>here</i></b></a> without registering.<br>

<details>
<summary>click here for STSW-STM32080 package description</summary>
<br>
<p><a href="http://www.emcu.eu/how-to-program-the-stm32/#DFU">DfuSe utility introduction</a></p>
STMicroelectronics wants package users to register,<br>
then send confirmation to your email address for access.<br>
This requires browser cookies for ST's website at least temporarily enabled...<br>
Windows installation includes <a href="file:///C:/Program%20Files%20(x86)/STMicroelectronics/Software/DfuSe%20v3.0.6/Bin/Doc/UM0412.pdf">a User Guide</a><br>
The installer is probably named <code>DfuSe_Demo_V3.0.6_Setup.exe</code> because ST expects<br>
their target audience to create create custom firmware installers motivated by this.
</details>

<details>
<summary>click here for converting other firmware formats to DFU</summary>
<br>
<em>thanks to  starbuck5250</em><br><br>
<code>DfuSe_Demo_V3.0.6_Setup.exe</code> also installs <code>DfuFileMgr.exe</code> e.g. in<br>
 &nbsp <code>C:\Program Files (x86)\STMicroelectronics\Software\DfuSe v3.0.6\Bin</code>
<dl>
<dt>First, get e.g. <a href="https://github.com/ttrftech/NanoVNA/releases">an edy555 file</a>
  <dd>click e.g. <a href="https://github.com/ttrftech/NanoVNA/releases/download/0.2.2/nanovna-firmware-0.2.2.zip"><code>nanovna-firmware-0.2.2.zip</code></a> to download.
  <br>e.g. in <code>C:\addons</code>
<dt>Next, unzip it e.g. in <code>C:\addons\nanovna-firmware-0.2.2</code>
<dt>Next, to convert e.g. that <code>C:\addons\nanovna-firmware-0.2.2\build\ch.bin</code> to DFU format:
  <dd>Launch <code>DfuFileMgr.exe</code><br>
  Choose <code>GENERATE DFU from HEX</code> and click <code>OK</code>.<br>
  <img src="DFUmgr.gif"><br clear=all>
  Click <img align="middle" src="S19orHex.gif"> half way down on the right side.<br>
  Navigate to e.g. <code>C:\addons\nanovna-firmware-0.2.2\build\</code><br>
  Click on e.g. <code>ch.hex</code>, and then <code>Open</code>.<br>
  Click <code>Generate...</code><br>
  &nbsp  You will be asked to save the file e.g. as <code>edy555_0.2.2.dfu</code>,<br>
  &nbsp and saved it in the same directory.<br>
  &nbsp For message <code>Success for Image for alternate setting...</code>, click <code>OK</code>.<br>
<dt>Use e.g. <code>C:\addons\nanovna-firmware-0.2.2\build\edy555_0.2.2.dfu</code>
  to flash NanoVNA by <code>DfuSe Demo 3.0.6.exe</code>.
</dl>
</details>

</b></font>

<br><dt>

<br><dt><font size=+1><b>Clearing nanoVNA flash memory</b></font>
<dd>
<details>
<summary>click here for <b>cleaning settings to default states</b> in recent firmware</summary>

<p align=left> (<i>thanks to QRP</i>) <img align=right src="PuTTY.gif">
<br> &nbsp - connect to your NanoVNA with e.g. <a href="https://putty.org/">PuTTY</a>
<br> &nbsp - enter <code>help</code> to list all supported commands
<br> &nbsp - entering <code>clearconfig</code> resets all configuration settings to defaults
<br> &nbsp - power nanoVNA off and on for default settings to take effect
</p>
</details>
<details>
<summary>click here for <b> 
<a href="https://groups.io/g/nanovna-users/files/Firmware/All%20%28known%29%20publicly%20available%20NanoVNA%20DFU%20files%20from%20May%205,%202019%20through%20to%20Sept%2029,%202019/DMR/DMR-CLEAR_MEMORY_DFU.dfu">DMR-CLEAR_MEMORY_DFU.dfu</a></b></summary
<dt>
A <i>few</i> firmware installations fail until after first loading "DMR-CLEAR_MEMORY_DFU.dfu".<br>
After loading this, your nanoVNA will <em>not</em> again work until <em>after</em> installing <em>other</em> firmware.<br>
  It is used to "clean the slate" prior to installing e.g. <a href="#DMR"><em>DMR</em> firmwares</a>, but should <em>otherwise rarely</em> be needed.<br>
  This is identical to <code>DMR Aug 31</code> "Stuck on firmware?" append: <a href="https://groups.io/g/nanovna-users/message/1583">FILL FF DFU.dfu</a>

</details>

<br><br><dt><font size=+1><b>Larry Rothman's <a href="https://groups.io/g/nanovna-users/files/Firmware/All%20%28known%29%20publicly%20available%20NanoVNA%20DFU%20files%20from%20May%205,%202019%20through%20to%20Sept%2029,%202019">Firmware Archive</a></b></font>
<dd>some of that content is linked below

<br><br><dt><font size=+1><b>HuGen's</b> <a href="https://drive.google.com/drive/folders/1-JViWLBOIzaHTdwdONX2RP8S4EgWxoND">Google Drive folder</a>,
    &nbsp <a href="https://github.com/hugen79/NanoVNA-H/releases">GitHub Releases</a>, &nbsp
   <a href="https://groups.io/g/nanovna-users/files/Firmware/hugen%27s%20firmware%20release%20notes.pdf">Release Notes</a> PDF</font>
<br>

<details  style="background-color:powderblue;">
<summary>click here for <font color="green">HuGen</font>firmware naming conventions and differences from edy555 firmware</summary>

A typical name is <code>NanoVNA-H_900_ch_20191003.dfu</code><br>
<br>
Many special firmware are available elsewhere with different naming,<br>
and <em>without</em> <code>aa</code> versions having larger text<br>
<br>
<dt><code>NanoVNA-H</code>
<dd>owner or special purpose.<br>  edy555 "owns" NanoVNA; HuGen "owns" NanoVNA-H
<br>HuGen originally provided 4 versions for each release date.<br>
<dt><code>900</code> &nbsp <- <i><b>obsolete</b></i>
<dd>most devices can overclock for 900MHz third harmonic. <br> To avoid artifacts with weaker devices, use <code>800</code> firmware versions
<br>since <code>20191009</code>, overclock tuning is user-adjustable
<dt><code>aa / ch</code>
<dd><code>aa</code> (Antenna Analyzer) limited to 2 traces but usefully larger text. <br>Use <code>ch</code> for 4 traces, but smaller text
<dt><code>20191003</code>
<dd>date code; newer is <i>not always</i> better (but e.g. <code>20191009</code> <b>is better than</b> <code>20191003</code>).
  <br>Some group messages <a href="https://groups.io/g/nanovna-users/search?d=0&ev=false&q=firmware+bug">report bugs</a>..  
<dt><code>.dfu</code>
<dd> format for DFU utilities, e.g. verify that firmware matches USB device ID<br>
<code>.hex</code> is simpler, lacks ID matching.  DFU utility can convert either way.
<br>
<dt><b>differences from edy555 firmware</b> <i>thanks to QRP</i>
<dd>1) hugen79 firmware has imbalance gain correction, which is missing from edy555 firmware<br>
2) hugen79 firmware has a little different logic for frequency band/gain change.<br>
3) hugen79 firmware has correct default touch calibration,<br>
 &nbsp which works ok with NanoVNA-H hardware even with no touch calibration.<br>
 &nbsp edy555 firmware default touch calibration is incompatible with NanoVNA-H hardware;<br>
 &nbsp <b><i>touch screen calibration is required after installing edy555 firmware</i></b>.
<br>
<br>
</details>

<dd> <a href="https://drive.google.com/drive/folders/1H_l_3vnXSgg6AOIngvMEsPpIvRVTG7hq"><b>NanoVNA-H-20191018</b></a> 2019/10/18 by Gen Hu, nanoVNA-H owner
  <br> &nbsp - recent "aa" (larger text, 2 trace) firmware no longer requires separate clear memory download
  <br>(product?) <a href="https://drive.google.com/drive/folders/1IZEtx2YdqchaTO8Aa9QbhQ8g_Pr5iNhr">Google Drive folder</a>

<br><br><dt><font size=+1><b>edy555's <a href="https://github.com/ttrftech/NanoVNA/releases">GitHub Releases</a> &nbsp <a href="https://circleci.com/gh/ttrftech/NanoVNA">change log</a>
 &nbsp <a href="https://cho45.stfuawsc.com/NanoVNA/dfu.html">nightly builds</a>
</b></font>
<dd>most other firmwares sync to edy555..

<br><br><dt><font size=+1><b>Erik Kaashoek's 
<a href="https://groups.io/g/nanovna-users/files/Firmware/NanoVNA%20firmware%20build%20by%20Erik">firmware folder</a></b></font>
<dd> primarily intended for use with <a href="https://groups.io/g/nanovna-users/files/NanoVNA%20PC%20Software/TAPR%20VNA">TAPR VNA v4 PC software</a>

<br><br><dt id="DMR"><font size=+1><b>DMR</b></font>

<dd><a href="https://groups.io/g/nanovna-users/message/3337">tweak colors to white</a>
<br><a href="https://groups.io/g/nanovna-users/message/4674">on-display voltage measurement</a> and
 <a href="https://groups.io/g/nanovna-users/message/4666">voltmeter hack</a>
<br><a href="https://groups.io/g/nanovna-users/message/4697">75-Ohm "device"</a> 12 Oct 2019
<br><a href="https://groups.io/g/nanovna-users/message/4778">touchscreen test</a>
<br><a href="https://groups.io/g/nanovna-users/message/5031">console scan command: scanraw</a> 16 Oct 2019
<br><a href="https://groups.io/g/nanovna-users/message/5445">edy555 firmware v 0.3.3</a> 21 Oct 2019 10kHz-1.5GHz
<ul compact><li>battery voltage on CONFIG => VERSION screen
<li>si5351 check for stability > 200MHz
<li>bug fixes, better noise floor and more precise measurement
<li>white/yellow/red indicator for normal/low/critical battery
</ul>
<dt><font size=+1><b>QRP</b></font>
<dd><a href="https://github.com/qrp73/NanoVNA-Q/releases">GitHub Releases</a> both hex and dfu based on NanoVNA-H
<ul compact><li>better noise floor, si5351 hardware check <a href="https://github.com/qrp73/NanoVNA-Q/blob/master/README.md">and more</a>
<li>0.4.1 2019/10/23 fix thread safety, numpad rounding errors,
 <a href="https://groups.io/g/nanovna-users/message/5653">screenshot capture from any menu state</a>
<li>0.4.2 2019/10/28 <a href="https://groups.io/g/nanovna-users/message/5914">color command</a>, multi-threading fix (USB connect after PAUSE SWEEP)
</ul>
<br><br><br><dt><font size=+1><b>Xenomorph</b></font>
<dd>- <a href="https://groups.io/g/nanovna-users/message/3028">
256 point FFT Firmware</a>
(hwalker Sep 25)<br>
- <a href="https://groups.io/g/nanovna-users/message/4537">75 Ohm firmware (Aug-30-19)</a>
Z0-CENTER 75 Ohm:
<br> &nbsp
use 50-75 Ohm matching transformer at the input and output.
<a href="http://www.cqham.ru/forum/showthread.php?40166-nanoVNA-%E8%E7-%CA%E8%F2%E0%FF&p=1673622&viewfull=1#post1673622"><img align=top src="75-50 Ohm.jpg"></a>

</b></font>
<dl>
<dt>pluto backup Sep 29 
<dd><a href="https://groups.io/g/nanovna-users/message/3592">email</a>

</dl>
</dl>

</html>

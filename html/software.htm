<html>
<head>
<title>nanoVNA software</title>
</head>
<body bgcolor=#bbccdd>
<h3>nanoVNA software</h3>
<ul compact>
<li><a href="#firm">firmware management</a>
<li><a href="#PC">PC apps</a> for nanoVNA operation and data extraction via USB
</ul>
Much of this software is experimental;<br>
a <em>good</em> uninstaller utility
can monitor and log those software installations,<br>
which enables more thorough clean up with any subsequent removals.<br>

<details>
<summary>click for uninstaller utility</summary>
<br>
<iframe src="Uninstaller.htm" width="620" height="1200" style="border:none;"></iframe>

</details>

<h4>USB device</h4>
Firmware controls USB ID in nanoVNA,<br>
which may confound installation and firmware updating.<br>
Debugging may be facilitated by recording related Windows activity.<br>
Logging may be accomplished by first installing NirSofts'
<a href="http://www.nirsoft.net/utils/usb_log_view.html">USBLogView</a>.

<h4>USB port serial monitor</h4>
Run this while running NanoVNA programs to watch<br>
- what the program sends to the device<br>  
- what the device sends back<br>  
<a href="https://freeusbanalyzer.com">"Free" USB Analyzer</a><br>
- Max session length: 10 minutes<br>
- Max sessions per day: 5<br>
- Grace Period: 4 days<br>
<p>Other free possibilities:<br>
- <a href="https://desowin.org/usbpcap/tour.html">USBPcap + Wireshark</a>
<a href="https://osqa-ask.wireshark.org/questions/48789/usbpcap-tutorial">tutorial</a> <a href="https://wiki.wireshark.org/CaptureSetup/USB">wiki</a><br>
- <a href="https://github.com/djpnewton/busdog">busdog</a>
<a href="https://stackoverflow.com/a/45990679">testimonial</a><br>
- <a href="http://www.sysnucleus.com/usbtrace_download.html">SysNucleus USBTrace</a> 15 day eval, 257k per capture session<br>

<a name=firm><h3>firmware management</h3></a>
nanoVNA employs STM32 firmware which may be read and rewritten<br>
via USB using <a href="https://www.st.com/content/st_com/en/products/development-tools/software-development-tools/stm32-software-development-tools/stm32-programmers/stsw-stm32080.html">STMicroelectronics'</a> Device Firmware Upgrade (DFU) software,<br>
which is included as <code>STSW_STM32080_V3.0.0.zip</code> on
<a href="https://drive.google.com/drive/folders/1IRz6E1wlkRyV0u7sbqj0lhWST-GV1szY">HuGen's Firmware Drive</a>  
<p>
An ST-Link connector can be soldered to the NanoVNA.<br>
<a href="https://www.ebay.com/sch/i.html?_nkw=st-link">ST-Link</a> supports debugging as well as firmware management.
</p>
<h5><a href="https://zs1sci.com/blog/NanoVNA%20Build%20Source/">Building NanoVNA Source in Ubuntu 19.04</a></h5>
<h4>firmware flavors</h4>
<dl>
<dt>by HuGen, nanoVNA developer
<dd><a href="https://drive.google.com/drive/folders/1IRz6E1wlkRyV0u7sbqj0lhWST-GV1szY">HuGen's Firmware Drive</a>
<dt>by edy555, nanoVNA creator
<dd><a href="https://github.com/ttrftech/NanoVNA/releases/">GitHub ttrftech/NanoVNA</a>
<dt>by Erik, presumably for TAPR VNA
<dd><a href="https://groups.io/g/nanovna-users/files/Firmware/NanoVNA%20firmware%20build%20by%20Erik">Groups.io Firmware folder</a>
<dt>by Hugen, Sept 19 edy255 firmware with TDR and touchscreen calibration
<dd><a href="https://groups.io/g/nanovna-users/message/2671">zip file attached to email</a>
<dt>by cho45, CircleCl automated firmware builds
<dd><a href="https://cho45.stfuawsc.com/NanoVNA/dfu.html">unofficial</a>
<dt>experimental 256 point FFT Firmware
<dd><a href="https://groups.io/g/nanovna-users/message/3028">email attachment</a>
</dl>
<h4>loading firmware on macOS or linux</h4>
Power nanoVNA off, jumper boot pins, power on.<br>
<img src="https://oristopo.github.io/nVhelp/html/NanoVNAboot.jpg">
<br clear=all>
<dl>
<dt><code>$ cd to folder</code>
<dd><code>$ dfu-util -v -d 0483:df11 --alt 0 -D nanoVNA_0.1.0_ch.dfu</code>
</dl>
Remove nanoVNA boot jumper and restart it.

<a name="PC"><h3>PC apps for nanoVNA control</h3>
<dl>
<b><dt>NanoVNASharp</b>
<dd>provided by Hugen without source; binary available on <a href="https://drive.google.com/drive/folders/1IZEtx2YdqchaTO8Aa9QbhQ8g_Pr5iNhr">Google Drive</a>
<br><a href="https://www.youtube.com/watch?v=zw7Dp1nwvD8">YouTube video</a>
<br><a href="http://www.epanorama.net/newepa/2019/08/11/nanovna-handheld-vector-network-analyzer-vna/">more from Tomi Engdahi</a>
<br><br><b><dt>NanoVNA Saver</b>
<dd>written in Python and nominally platform agnostic.
<br>source on <a href="https://github.com/mihtjel/nanovna-saver">GitHub</a>
 with helpful <a href="https://github.com/mihtjel/nanovna-saver/blob/master/README.md">README</a>
<br><a href="https://zs1sci.com/blog/category/nanovna">Notes by Ohan Smit</a>
<br><a href="https://zs1sci.com/blog/nanovnasaver/#Cal">calibration</a>
<br><a href="https://hexandflex.com/2019/09/15/getting-started-with-the-nanovna-part-3-pc-software/">Windows guide</a>
<br><a href="https://hexandflex.com/category/uncategorized/">more from HexAndFlex</a>
<br><br><b><dt>TAPR VNA</b>
<dd><a href="https://groups.io/g/nanovna-users/files/NanoVNA%20PC%20Software/TAPR%20VNA">groups.io folder</a>
<br>source on <a href="https://github.com/erikkaashoek/Tapr-VNA">GitHub</a>
<br>markdown instruction manual on <a href="https://github.com/oristopo/nanoTAPR/tree/nanoVNA">GitHub</a>
<br><br><b><dt>NanoVNA-Web-Client</b>
<dd>Available from cho45 on <a href="NanoVNA-Web-Client">GitHub</a>
<br>Compile the code and run on a local web server<br>
<img src="https://raw.githubusercontent.com/cho45/NanoVNA-Web-Client/master/images/DSC07514-900.jpg"><br clear=all>
<br><br><b><dt>TDR</b>
<dd>now supported by NanoVNA Saver: &nbsp
<a href="https://imgur.com/eoLwv35">screen shot</a>
<dd>edy555's nanovna.py on <a href="https://github.com/ttrftech/NanoVNA/blob/master/python/nanovna.py">GitHub</a> supports <code>./nanovna.py -T</code>
<br><br><b><dt>USB command instablility</b>
<dd><a href="https://groups.io/g/nanovna-users/topic/temporary_workaround_to/34127733">david mugridge</a> found problems with "freq", "scan", "offset", "power".
commands.
<br>one workaround was to instead use "info", "sweep", "data", "frequencies".
<br>problem is related to LCD screen DMA while <code>set_frequency()</code> and <code>ili9341_bulk()</code> called in parallel 
</dl>
<p> &nbsp <br> &nbsp <br> &nbsp <br> &nbsp <br> &nbsp <br> &nbsp <br> &nbsp <br> &nbsp <br> &nbsp <br> &nbsp <br> &nbsp </p>
</body>
</html>
